"use strict";(self.webpackChunkShisha=self.webpackChunkShisha||[]).push([[435],{9435:(b,d,r)=>{r.r(d),r.d(d,{CartModule:()=>O});var s=r(9808),l=r(8113),t=r(5e3),m=r(2915),u=r(520);let v=(()=>{class e{constructor(n){this.http=n,this.url=m.Z+"payment/create-checkout-session/"}checkout(n){return this.http.post(this.url,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=r(9224),f=r(3874),x=r(7424);function _(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-card",6),t.TgZ(1,"div",7),t._UZ(2,"img",8),t.qZA(),t.TgZ(3,"div",9),t._uU(4),t.ALo(5,"price"),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"div",11),t.NdJ("click",function(){const a=t.CHM(n).index;return t.oxw(2).modifyElement(a,!1)}),t._uU(8," \u2212 "),t.qZA(),t.TgZ(9,"h4",12),t._uU(10),t.qZA(),t.TgZ(11,"div",11),t.NdJ("click",function(){const a=t.CHM(n).index;return t.oxw(2).modifyElement(a,!0)}),t._uU(12," + "),t.qZA(),t.TgZ(13,"div",13),t.NdJ("click",function(){const a=t.CHM(n).index;return t.oxw(2).removeElement(a)}),t.TgZ(14,"mat-icon"),t._uU(15,"remove_shopping_cart"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(2),t.s9C("src",n.flavor.imageLink,t.LSH),t.xp6(2),t.AsE(" ",n.flavor.name," - ",t.lcZ(5,4,n.flavor.price)," "),t.xp6(6),t.hij(" ",n.quantity," ")}}function h(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",3),t.YNc(1,_,16,6,"mat-card",4),t.TgZ(2,"div",5),t.NdJ("click",function(){return t.CHM(n),t.oxw().checkout()}),t._uU(3,"buy now"),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.shopping_cart)}}function C(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"h2",14),t._uU(2,"Your cart is empty!"),t.qZA(),t.TgZ(3,"div",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().goToFlavors()}),t._uU(4," back to shopping "),t.qZA(),t.qZA()}}const y=[{path:"",component:(()=>{class e{constructor(n,i){this.router=n,this.paymentService=i}getCurrentCart(){const n=localStorage.getItem("Cart");return null===n?[]:JSON.parse(n)}ngOnInit(){this.shopping_cart=this.getCurrentCart()}removeElement(n){this.shopping_cart.splice(n,1),localStorage.setItem("Cart",JSON.stringify(this.shopping_cart))}modifyElement(n,i){i?this.shopping_cart[n].quantity=+this.shopping_cart[n].quantity+1:(this.shopping_cart[n].quantity=+this.shopping_cart[n].quantity-1,0==this.shopping_cart[n].quantity&&this.removeElement(n)),localStorage.setItem("Cart",JSON.stringify(this.shopping_cart))}checkout(){this.paymentService.checkout({cart:this.shopping_cart}).subscribe(c=>{if(!c)throw new Error;window.location.href=c})}goToFlavors(){this.router.navigate(["/flavors"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.F0),t.Y36(v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:4,vars:2,consts:[[1,"main"],["class","container",4,"ngIf","ngIfElse"],["elseblock",""],[1,"container"],["class","flavor-card",4,"ngFor","ngForOf"],[1,"buy-btn","btn",3,"click"],[1,"flavor-card"],[1,"left-div"],["mat-card-image","","alt","Flavor photo",1,"cart-flavor-img",3,"src"],[1,"flavor-details"],[1,"right-div"],[1,"flavor-quantity-btn","btn",3,"click"],[1,"flavor-quantity"],[1,"remove-cart-btn","btn",3,"click"],[1,"cart-empty-text"],[1,"cart-empty-btn","btn",3,"click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,h,4,1,"div",1),t.YNc(2,C,5,0,"ng-template",null,2,t.W1O),t.qZA()),2&n){const c=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0!=i.shopping_cart.length)("ngIfElse",c)}},directives:[s.O5,s.sg,p.a8,p.G2,f.Hw],pipes:[x.d],styles:[".btn[_ngcontent-%COMP%]{cursor:pointer;margin-left:60px;margin-right:60px;font-family:Montserrat,sans-serif;font-weight:400;text-decoration:none;border-radius:0;letter-spacing:3px;transition:all .35s ease-in-out;padding:14px 21px;font-size:13px;line-height:25px;text-transform:uppercase;border:solid 2px #fff;background:transparent;color:#fff}div[_ngcontent-%COMP%]{color:#fff}.main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]{background-color:#313131;width:80vw;color:#fff;margin:50px 20px 20px;box-shadow:0 0 19px 9px #000000d9;padding:20px 30px 30px 20px;font-family:Arial;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.flavor-card[_ngcontent-%COMP%]{width:90%;display:flex;align-items:center;justify-content:space-between;margin-bottom:2vh;box-shadow:0 0 13px 3px #00000080}.flavor-details[_ngcontent-%COMP%], .flavor-quantity[_ngcontent-%COMP%]{font-size:30px;margin:0!important}.cart-flavor-img[_ngcontent-%COMP%]{width:5vw;margin:0!important}.left-div[_ngcontent-%COMP%], .right-div[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%}.left-div[_ngcontent-%COMP%]{justify-content:flex-start}.right-div[_ngcontent-%COMP%]{justify-content:flex-end}.btn[_ngcontent-%COMP%]:hover{background:#fff;color:#1f1f1f}.buy-btn[_ngcontent-%COMP%]{margin-top:15px}.flavor-quantity-btn[_ngcontent-%COMP%], .remove-cart-btn[_ngcontent-%COMP%]{margin:8px;font-size:14px;line-height:18px;padding:5px 6px 5px 8px}.remove-cart-btn[_ngcontent-%COMP%]{padding:2px 3px}.remove-cart-btn[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:18px;display:flex;align-items:center;justify-content:center}.cart-empty-btn[_ngcontent-%COMP%]{padding:4px 6px;font-size:12px}"]}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(y)],l.Bz]}),e})();var Z=r(8040);let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,M,p.QW,Z.FlavorsModule,f.Ps]]}),e})()}}]);